<style>
    .generateNotice {
        margin: 8px 8px 8px 8px;
    }

    .redNotice {
        color: red;
        font-size: 12px;
    }
</style>
<div id="role-commission-calculation" class="row">

    <!-- BEGIN Page specific stuff -->
    <div ng-cloak class="col-md-12 col-sm-12 col-xs-12 main ng-cloak">
        <div class="page-header">
            <h1>Commission Result</h1>
        </div>

        <div class="row">
            <div class="col-md-3">
                <button type="submit" class="btn btn-default" style="margin: 0 10px 10px 0" ng-disabled="service.isCalculating" ng-click="service.generateCommission()">Generate Month Commission <i class="fa  fa-spinner fa-spin" ng-show="service.isCalculating"></i></button>
            </div>
            <div class="col-md-9" ng-show="calculateButton">
                <div class="generateNotice">
                    <label class="redNotice">{{ redNotice }}</label>
                </div>
            </div>
        </div>


    </div>
    <!-- END Page specific stuff -->
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Commission Sessions</h2>

                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <div class="table-responsive">

                    <table class="table table-striped jambo_table">
                        <thead>
                        <tr>
                            <th>Calculation Date</th>
                            <th>Commission Month</th>
                            <th>Policies</th>
                            <th>Download</th>
                            <th>Result Code</th>
                            <th>Result Message</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="commissionSession in service.commissionCalculationSessions | orderBy:'-createdDateTime'">
                            <td>{{ commissionSession.createdDateTime }}</td>
                            <td>{{ commissionSession.commissionDate | date:'MM/yyyy' }}</td>
                            <td>{{ commissionSession.commissionCalculations.length}}</td>
                            <td>
                                <div ng-show="commissionSession.updatedDateTime">
                                    <a target="_blank" href="/api-elife/commissions/calculation-sessions/download/{{commissionSession.id}}">Download</a>
                                </div>
                            </td>
                            <td>{{ commissionSession.resultCode }}</td>
                            <td>{{ commissionSession.resultMessage }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>